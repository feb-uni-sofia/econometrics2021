---
title: 'Week2: basic data summaries'
author: "Boyko Amarov"
date: "3/8/2021"
output: html_document
---

## Data import

```{r, setup, message=FALSE}
## Load packages
library(tidyverse)
## Read the data
earnings <- read.csv("https://raw.githubusercontent.com/feb-uni-sofia/econometrics2021/main/data/earnings.csv")
```


```{r}
glimpse(earnings)
```

Data description

- _height_ (numeric): height in inches (1 inch = 2.54 cm)
- _weight_ (numeric): weight in pounds (1 pound $\approx$ 0.45 kilograms)
- _male_ (numeric): 1 if a person is male, 0 otherwise
- _earn_ (numeric): annual income in USD
- _earnk_ (numeric): annual income in 1000 USD
- _ethnicity_ (character): ethnicity
- _age_ (numeric): Age of the person in years


## Height

```{r}
mean(earnings$height) * 2.54
```
Средният ръст на хората в изследването е 66.5 инча (169 см).

Добавяме колонка `height_cm` в таблицата `earnings`.

```{r}
# earnings <- mutate(
#   earnings,
#   height_cm = 2.54 * height,
# )

## Еквивалентно на горния код
earnings <- earnings %>%
  mutate(
    height_cm = 2.54 * height,
  )
```

```{r}
mean(earnings$height_cm)
```

```{r}
summary(earnings$height_cm)
```

Най-ниският човек в изследването е бил висок 144.8 см (min). Най-високият човек е бил висок
208.3 см (max). _Около_ половината от хората в извадката са с ръст по-нисък от 167.6. _Около_ една четвърт от хорта
са били по-ниски от 162.5 см (1st quartile). 

1st Qu (първи квартил)
Median (втори квартил, 0.5 квантил)
3th Qu (трети квартил)

```{r}
mean(earnings$height_cm <= 167.6)
```

```{r}
ggplot(earnings, aes(x = height_cm, y = ethnicity)) + geom_boxplot()
```

1) Location (център на данните)
2) Spread (variability/diversity)

## 

Categorical scales:

Номинална скала: стойностите са само етикети,
които показват принадлежност към някаква група (ethnicity, gender, etc..)

Ординална скала: като номиналната скала, но с ред дефиниран между етикетите

"2", "3", "4", "5", "6"

```{r}
earnings %>%
  mutate(
    sex = ifelse(male == 1, "Male", "Female")
  ) %>%
  select(male, sex)
```

```{r}
mean(earnings$male)
```
```{r}
## Frequency table
table(earnings$ethnicity)
```

Bar charts
```{r}
ggplot(earnings, aes(x = ethnicity)) + geom_bar()
```
